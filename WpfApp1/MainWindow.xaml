<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp1"
        mc:Ignorable="d"
        Title="GUI для языкового процессора" Height="381" Width="598">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="289*"/>
            <ColumnDefinition Width="10*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Меню -->
            <RowDefinition Height="Auto"/>
            <!-- Тулбар -->
            <RowDefinition Height="*"/>
            <!-- Вкладки с редактором -->
            <RowDefinition Height="Auto"/>
            <!-- DataGrid -->
        </Grid.RowDefinitions>

        <Menu Height="20" VerticalAlignment="Center" Grid.ColumnSpan="2">
            <MenuItem Header="Файл">
                <MenuItem Header="Создать" Click="new_file_Click"/>
                <MenuItem Header="Открыть" Click="open_file_Click"/>
                <MenuItem Header="Сохранить" Click="save_file_Click"/>
                <MenuItem Header="Сохранить как" Click="save_as_file_Click"/>
                <MenuItem Header="Выход" Click="exitApp_Click"/>
            </MenuItem>
            <MenuItem Header="Правка">
                <MenuItem Header="Отменить" Click="back_Click"/>
                <MenuItem Header="Повторить" Click="front_Click"/>
                <MenuItem Header="Вырезать" Click="cut_Click"/>
                <MenuItem Header="Копировать" Click="copy_Click"/>
                <MenuItem Header="Вставить" Click="paste_Click"/>
                <MenuItem Header="Удалить" Click="delete_Click"/>
                <MenuItem Header="Выделить всё" Click="selectAll_Click"/>
            </MenuItem>
            <MenuItem Header="Текст">
                <MenuItem Header="Постановка задачи"/>
                <MenuItem Header="Грамматика"/>
                <MenuItem Header="Классификация грамматики"/>
                <MenuItem Header="Метод анализа"/>
                <MenuItem Header="Тестовый пример"/>
                <MenuItem Header="Список литературы"/>
                <MenuItem Header="Исходный код программы"/>
            </MenuItem>
            <MenuItem Header="Пуск"/>
            <MenuItem Header="Справка">
                <MenuItem Header="Вызов справки" Click="questions_Click"/>
                <MenuItem Header="О программе" Click="about_Click"/>
            </MenuItem>
        </Menu>

        <ToolBarTray Grid.Row="1" Background="White" Grid.ColumnSpan="2">
            <ToolBar Band="1" BandIndex="1">
                <Button Name="create" Width="50" Height="50" Click="new_file_Click">
                    <Image Source="/resources/create.png"/>
                </Button>
                <Button Name="open" Width="50" Height="50" Click="open_file_Click">
                    <Image Source="/resources/open.png"/>
                </Button>
                <Button Name="save" Width="50" Height="50" Click="save_file_Click">
                    <Image Source="/resources/save.png"/>
                </Button>
                <Separator/>
                <Button Name="back" Width="50" Height="50" Click="back_Click">
                    <Image Source="/resources/back.png"/>
                </Button>
                <Button Name="front" Width="50" Height="50" Click="front_Click">
                    <Image Source="/resources/forward.png"/>
                </Button>
                <Button Name="copy" Width="50" Height="50" Click="copy_Click">
                    <Image Source="/resources/copy.png"/>
                </Button>
                <Button Name="paste" Width="50" Height="50" Click="paste_Click">
                    <Image Source="/resources/insert.png"/>
                </Button>
                <Button Name="question" Width="50" Height="50" Click="questions_Click">
                    <Image Source="/resources/question.png"/>
                </Button>
                <Button Name="about" Width="50" Height="50" Click="about_Click">
                    <Image Source="/resources/about.png"/>
                </Button>
            </ToolBar>
        </ToolBarTray>

        <TabControl x:Name="tabControl" Grid.Row="2" Grid.ColumnSpan="2"
                    ItemsSource="{Binding Tabs, RelativeSource={RelativeSource AncestorType=Window}}"
                    SelectedItem="{Binding SelectedTab, RelativeSource={RelativeSource AncestorType=Window}}">
            <TabControl.ItemTemplate>
                <DataTemplate>
                    <DockPanel>
                        <TextBlock Text="{Binding FileName}" VerticalAlignment="Center"/>
                        <Button Content="X" 
                                DockPanel.Dock="Right" 
                                Margin="5,0,0,0"
                                Width="16" Height="16"
                                Command="{Binding CloseCommand}"/>
                    </DockPanel>
                </DataTemplate>
            </TabControl.ItemTemplate>
            <TabControl.ContentTemplate>
                <DataTemplate>
                    <avalonEdit:TextEditor 
                        Document="{Binding Document}"
                        VerticalScrollBarVisibility="Visible"
                        SyntaxHighlighting="C#"
                        FontFamily="Consolas"
                        FontSize="12"
                        ShowLineNumbers="True"
                        LineNumbersForeground="Gray"
                        HorizontalScrollBarVisibility="Auto"/>
                </DataTemplate>
            </TabControl.ContentTemplate>
        </TabControl>

        <DataGrid x:Name="DataGrid1" Grid.Row="3" Grid.ColumnSpan="2" 
                  AutoGenerateColumns="False" HorizontalGridLinesBrush="DarkGray"
                  RowBackground="LightGray" AlternatingRowBackground="White" 
                  Height="150" VerticalAlignment="Bottom">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Файл" Binding="{Binding Path=Title}" Width="*"/>
                <DataGridHyperlinkColumn Header="Позиция" Binding="{Binding Path=Company}" Width="*"/>
                <DataGridTextColumn Header="Код" Binding="{Binding Path=Price}" Width="*"/>
                <DataGridTextColumn Header="Ошибка" Binding="{Binding Path=Price}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>